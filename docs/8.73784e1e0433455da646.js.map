{"version":3,"sources":["./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/shopping-list/shopping-list.component.html","./src/app/shopping-list/shopping-list.component.ts","./src/app/shopping-list/shopping-list-routing.module.ts","./src/app/shopping-list/shopping-list.module.ts"],"names":["ShoppingEditComponent","shoppingListService","editMode","this","shoppingForm","required","pattern","subscription","startedEditing","subscribe","index","editedItemIndex","editedItem","getIngredient","setValue","name","amount","unsubscribe","newIngredient","get","value","addIngredient","updateIngredient","clearInput","reset","deleteIngredient","onSubmitItem","deleteItem","ShoppingListComponent","ingredients","getIngredients","ingredientSubscription","ingredientEmitter","next","routes","path","component","ShoppingListRoutingModule","forChild","ShoppingListModule"],"mappings":"qNAWO,Y,MAAMA,EAEX,YAAoBC,GAAA,KAAAA,sBAGpB,KAAAC,UAAW,EAIX,WACEC,KAAKC,aAAe,IAAI,IAAU,CAChC,KAAQ,IAAI,IAAY,KAAK,IAAWC,UACxC,OAAU,IAAI,IAAY,KAAM,CAAC,IAAWA,SAAU,IAAWC,QAAQ,sBAE3EH,KAAKI,aAAgBJ,KAAKF,oBAAoBO,eAAeC,UAC1DC,IACCP,KAAKD,UAAW,EAChBC,KAAKQ,gBAAkBD,EACvBP,KAAKS,WAAaT,KAAKF,oBAAoBY,cAAcH,GACzDP,KAAKC,aAAaU,SAAS,CACzB,KAAQX,KAAKS,WAAWG,KACxB,OAAUZ,KAAKS,WAAWI,WAMlC,cACEb,KAAKI,aAAaU,cAIpB,eACE,IAAIC,EAAgB,IAAI,IAAWf,KAAKC,aAAae,IAAI,QAAQC,MAAOjB,KAAKC,aAAae,IAAI,UAAUC,QACnF,IAAlBjB,KAAKD,SACNC,KAAKF,oBAAoBoB,cAAcH,IAEpB,IAAlBf,KAAKD,WACNC,KAAKD,UAAW,EAChBC,KAAKF,oBAAoBqB,iBAAiBJ,EAAef,KAAKQ,kBAEjER,KAAKoB,aAGN,aACEpB,KAAKD,UAAW,EAChBC,KAAKC,aAAaoB,QAGpB,aACErB,KAAKF,oBAAoBwB,iBAAiBtB,KAAKQ,iBAC/CR,KAAKoB,c,6CAnDIvB,GAAqB,Y,uBAArBA,EAAqB,ynBCXlC,gBACE,gBACE,iBAAiC,mCAAY,EAAA0B,kBAC3C,gBACE,gBACE,kBAAkB,eAAI,OACtB,kBAMF,OACA,gBACE,kBAAoB,kBAAM,OAC1B,mBAMF,OACF,OACA,iBACE,iBACE,qBAKC,SAA2B,OAC5B,qBAAyE,gCAAS,EAAAC,gBAAqC,uBAAW,OAClI,qBAA0E,gCAAS,EAAAJ,gBAAc,iBAAK,OACxG,OACF,OACF,OACF,OACF,Q,MAnCU,yCA2BA,gDACC,wCAC+F,uC,0DDpBnG,G,uDENC,cAIC,gFAED,QACA,O,4BADA,6CCCD,Y,MAAMK,EAGX,YAAoB3B,GAAA,KAAAA,sBAFpB,KAAA4B,YAA4B,GAM5B,WACE1B,KAAK0B,YAAc1B,KAAKF,oBAAoB6B,iBAC5C3B,KAAK4B,uBAAyB5B,KAAKF,oBAAoB+B,kBAAkBvB,UAAWoB,IACnF1B,KAAK0B,YAAcA,IAItB,WAAWnB,GACTP,KAAKF,oBAAoBO,eAAeyB,KAAKvB,GAG/C,cACEP,KAAK4B,uBAAuBd,e,6CAnBnBW,GAAqB,Y,uBAArBA,EAAqB,iDAFrB,KAAE,wODVf,gBACE,gBACE,4BACA,aACA,eACI,oBAQJ,OACF,OACF,Q,MATQ,wC,oCCMD,G,gBCRP,MAAMM,EAAiB,CACrB,CAAEC,KAAM,GAAIC,UAAW,IAOlB,Y,MAAMC,G,8BAAAA,I,oDAAAA,IAAyB,SAH3B,CAAC,IAAaC,SAASJ,IACtB,O,GAEL,GCaA,Q,MAAMK,G,8BAAAA,I,oDAAAA,IAAkB,SAVpB,CACP,IACA,IACA,M,GAOG","file":"8.73784e1e0433455da646.js","sourcesContent":["import { ShoppingListService } from './../shoping-list.service';\nimport { Ingredient } from './../../shared/ingredients.model';\nimport { AfterViewInit, Component, ElementRef, EventEmitter, OnInit, Output, ViewChild, OnDestroy } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n})\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\n  \n  constructor(private shoppingListService: ShoppingListService) { }\n  shoppingForm: FormGroup\n  subscription: Subscription;\n  editMode = false;\n  editedItemIndex: number;\n  editedItem: Ingredient;\n\n  ngOnInit(): void {\n    this.shoppingForm = new FormGroup({\n      'name': new FormControl(null,Validators.required),\n      'amount': new FormControl(null, [Validators.required, Validators.pattern('^[1-9]+[0-9]*$')])\n    });\n    this.subscription =  this.shoppingListService.startedEditing.subscribe(\n      (index: number)=>{ \n        this.editMode = true;\n        this.editedItemIndex = index;\n        this.editedItem = this.shoppingListService.getIngredient(index);\n        this.shoppingForm.setValue({\n          'name': this.editedItem.name,\n          'amount': this.editedItem.amount\n        });\n       \n      });\n  }\n\n  ngOnDestroy(){\n    this.subscription.unsubscribe();\n  }\n\n\n  onSubmitItem(){\n    var newIngredient = new Ingredient(this.shoppingForm.get('name').value, this.shoppingForm.get('amount').value)\n    if(this.editMode === false){\n      this.shoppingListService.addIngredient(newIngredient);\n    }else\n    if(this.editMode === true){\n      this.editMode = false;\n      this.shoppingListService.updateIngredient(newIngredient, this.editedItemIndex);\n    }\n   this.clearInput();\n  }\n\n  clearInput() {\n    this.editMode = false;\n    this.shoppingForm.reset();\n  }\n\n  deleteItem(){\n    this.shoppingListService.deleteIngredient(this.editedItemIndex);\n    this.clearInput();\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-xs-12\">\n    <form [formGroup]=\"shoppingForm\" (ngSubmit)=\"onSubmitItem()\">\n      <div class=\"row\">\n        <div class=\"col-sm-5 form-group\">\n          <label for=\"name\">Name</label>\n          <input \n          type=\"text\" \n          id=\"name\" \n          class=\"form-control\"\n          formControlName=\"name\"\n          >\n        </div>\n        <div class=\"col-sm-2 form-group\">\n          <label for=\"amount\">Amount</label>\n          <input \n          type=\"number\" \n          id=\"amount\" \n          class=\"form-control\"\n           formControlName=\"amount\"\n          >\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12 mt-3\">\n          <button \n          class=\"btn btn-success\" \n          type=\"submit\" \n          style=\"margin-right: 10px;\" \n          [disabled]=\"!shoppingForm.valid\" \n          >{{editMode?'Update':'Add'}}</button>\n          <button class=\"btn btn-danger\" type=\"button\" style=\"margin-right: 10px;\" (click)=\"deleteItem()\" [disabled]=\"!editMode\">Delete Item</button>\n          <button class=\"btn btn-primary\" type=\"button\" style=\"margin-right: 10px;\" (click)=\"clearInput()\">Clear</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>","<div class=\"row\">\n  <div class=\"col-xs-10\">\n    <app-shopping-edit></app-shopping-edit>\n    <hr>\n    <ul class=\"list-group\">\n        <a \n        *ngFor=\"let ingredient of ingredients; let i = index\"\n         class=\"list-group-item\" \n         style=\"cursor:pointer\"\n         (click)=\"onEditItem(i)\"\n         >\n        {{ingredient.name}} ({{ingredient.amount}})\n        </a>\n    </ul>\n  </div>\n</div>","import { LoggingService } from './../logging.service';\nimport { ShoppingListService } from './shoping-list.service';\nimport { Ingredient } from './../shared/ingredients.model';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css'],\n  providers: []\n})\nexport class ShoppingListComponent implements OnInit, OnDestroy {\n  ingredients: Ingredient[] = [];\n  ingredientSubscription: Subscription;\n  constructor(private shoppingListService: ShoppingListService) { \n   \n  }\n\n  ngOnInit(): void {\n    this.ingredients = this.shoppingListService.getIngredients();\n    this.ingredientSubscription = this.shoppingListService.ingredientEmitter.subscribe((ingredients: Ingredient[])=>{\n     this.ingredients = ingredients;\n    })\n  }\n\n  onEditItem(index: number){\n    this.shoppingListService.startedEditing.next(index);\n  }\n\n  ngOnDestroy(){\n    this.ingredientSubscription.unsubscribe();\n  }\n\n  \n}\n","import { ShoppingListComponent } from './shopping-list.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from \"@angular/core\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: ShoppingListComponent },\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ShoppingListRoutingModule{\r\n\r\n}","import { SharedModule } from './../shared/shared.module';\r\nimport { ShoppingListRoutingModule } from './shopping-list-routing.module';\r\nimport { ShoppingEditComponent } from './shopping-edit/shopping-edit.component';\r\nimport { ShoppingListComponent } from './shopping-list.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ShoppingListComponent,\r\n    ShoppingEditComponent,\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n    ShoppingListRoutingModule\r\n  ],\r\n  exports:[\r\n    ShoppingListComponent,\r\n    ShoppingEditComponent,\r\n  ]\r\n})\r\nexport class ShoppingListModule{\r\n\r\n}"],"sourceRoot":"webpack:///"}